{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/thiago/Programacao/PlugInfo2025.1/atividade03/src/app/carrinho/components/CarrinhoContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useState, ReactNode } from \"react\";\nimport { Pizza } from \"./Main\";\n\nexport type ItemCarrinho = Pizza & { quantidade: number };\n\n\n\ntype CarrinhoContextType = {\n    carrinho: ItemCarrinho[];\n    adicionarPizza: (pizza: Pizza) => void;\n    aumentarQuantidade: (id: number) => void;\n    diminuirQuantidade: (id: number) => void;\n    limparCarrinho: () => void;\n};\n\nexport const CarrinhoContext = createContext<CarrinhoContextType | undefined>(undefined);\n\nexport function CarrinhoProvider({ children }: { children: ReactNode }) {\n    const [carrinho, setCarrinho] = useState<ItemCarrinho[]>([]);\n    const limparCarrinho = () => setCarrinho([]);\n\n\n    const adicionarPizza = (pizza: Pizza) => {\n        setCarrinho((prevCarrinho) => {\n            const index = prevCarrinho.findIndex(item => item.id === pizza.id);\n\n            // Se já existe, incrementa a quantidade\n            if (index !== -1) {\n                const novoCarrinho = [...prevCarrinho];\n                novoCarrinho[index].quantidade += 1;\n                return novoCarrinho;\n            }\n\n            // Senão, adiciona a pizza com quantidade 1\n            return [...prevCarrinho, { ...pizza, quantidade: 1 }];\n        });\n    };\n\n    const aumentarQuantidade = (id: number) => {\n        setCarrinho(prev =>\n            prev.map(item =>\n                item.id === id ? { ...item, quantidade: item.quantidade + 1 } : item\n            )\n        );\n    };\n\n    const diminuirQuantidade = (id: number) => {\n        setCarrinho(prev =>\n            prev\n                .map(item =>\n                    item.id === id ? { ...item, quantidade: item.quantidade - 1 } : item\n                )\n                .filter(item => item.quantidade > 0) // remove se quantidade chegar a 0\n        );\n    };\n\n    return (\n        <CarrinhoContext.Provider value={{ carrinho, adicionarPizza, aumentarQuantidade, diminuirQuantidade, limparCarrinho }}>\n            {children}\n        </CarrinhoContext.Provider>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAiBO,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAmC;AAEvE,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IAC3D,MAAM,iBAAiB,IAAM,YAAY,EAAE;IAG3C,MAAM,iBAAiB,CAAC;QACpB,YAAY,CAAC;YACT,MAAM,QAAQ,aAAa,SAAS,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,MAAM,EAAE;YAEjE,wCAAwC;YACxC,IAAI,UAAU,CAAC,GAAG;gBACd,MAAM,eAAe;uBAAI;iBAAa;gBACtC,YAAY,CAAC,MAAM,CAAC,UAAU,IAAI;gBAClC,OAAO;YACX;YAEA,2CAA2C;YAC3C,OAAO;mBAAI;gBAAc;oBAAE,GAAG,KAAK;oBAAE,YAAY;gBAAE;aAAE;QACzD;IACJ;IAEA,MAAM,qBAAqB,CAAC;QACxB,YAAY,CAAA,OACR,KAAK,GAAG,CAAC,CAAA,OACL,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE,YAAY,KAAK,UAAU,GAAG;gBAAE,IAAI;IAG5E;IAEA,MAAM,qBAAqB,CAAC;QACxB,YAAY,CAAA,OACR,KACK,GAAG,CAAC,CAAA,OACD,KAAK,EAAE,KAAK,KAAK;oBAAE,GAAG,IAAI;oBAAE,YAAY,KAAK,UAAU,GAAG;gBAAE,IAAI,MAEnE,MAAM,CAAC,CAAA,OAAQ,KAAK,UAAU,GAAG,GAAG,kCAAkC;;IAEnF;IAEA,qBACI,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAgB;YAAoB;YAAoB;QAAe;kBAC/G;;;;;;AAGb;GA5CgB;KAAA","debugId":null}}]
}